<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>sjc的搬砖小屋</title><meta name="author" content="icbtbo"><meta name="copyright" content="icbtbo"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta property="og:type" content="website">
<meta property="og:title" content="sjc的搬砖小屋">
<meta property="og:url" content="https://icbtbo.github.io/page/3/index.html">
<meta property="og:site_name" content="sjc的搬砖小屋">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://icbtbo.github.io/img/niu.jpg">
<meta property="article:author" content="icbtbo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://icbtbo.github.io/img/niu.jpg"><link rel="shortcut icon" href="/img/home.png"><link rel="canonical" href="https://icbtbo.github.io/page/3/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-06-30 14:15:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="sjc的搬砖小屋" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/niu.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">106</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">88</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">32</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/gh/icbtbo/icbtbo.github.io@1.0/img/tianma.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">sjc的搬砖小屋</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">sjc的搬砖小屋</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/09/02/os/lab6-%E8%B0%83%E5%BA%A6%E5%99%A8/" title="os_lab6:调度器">     <img class="post_bg" src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="os_lab6:调度器"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/02/os/lab6-%E8%B0%83%E5%BA%A6%E5%99%A8/" title="os_lab6:调度器">os_lab6:调度器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-02T11:40:42.000Z" title="发表于 2021-09-02 19:40:42">2021-09-02</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-08T09:25:31.203Z" title="更新于 2021-09-08 17:25:31">2021-09-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%B8%85%E5%8D%8Eos%E5%AE%9E%E9%AA%8C/">清华os实验</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">
课程主页：https://www.xuetangx.com/course/THU08091000267/5883104?channel=i.area.learn_title实验指导书：https://objectkuan.gitbooks.io/ucore-docs/content/github：https://github.com/chyyuu/ucore_os_lab (master 分支)

前置知识进程调度算法。
改动点相比于 lab5 源代码，lab6 主要做了如下改动：

proc.h 扩展 struct proc_struct 成员属性
12345678910struct proc_struct &#123;    ... // 同以往结构的属性    struct run_queue *rq;                       // 该进程所在的 run_queue    list_entry_t run_link;                      // 以链表形式链接各就绪进程    int time_slice;                 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/09/01/os/os%EF%BC%9A%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6/" title="os：处理机调度">     <img class="post_bg" src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="os：处理机调度"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/01/os/os%EF%BC%9A%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6/" title="os：处理机调度">os：处理机调度</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-01T12:16:01.000Z" title="发表于 2021-09-01 20:16:01">2021-09-01</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-02T11:38:39.948Z" title="更新于 2021-09-02 19:38:39">2021-09-02</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%B8%85%E5%8D%8Eos%E8%AF%BE%E7%A8%8B/">清华os课程</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">处理器调度概念调度的技术背景在此前我们已经介绍了进程和线程机制， 它们可以使得CPU能够更加有效地展现并发处理的能力。
对于资源基本管理单位的进程来说，CPU资源的当前占用者切换是基本的并发思路。
但有如下两个问题：

如何从就绪队列中选出下一个运行（占用CPU）的进程
从多个CPU中选出就绪进程中当前准备使用的的CPU

这两个选择任务就交由调度算法来实现。
调度时机调度程序除了解决上述提到的进程线程选择之外，还需进行调度时机的选择
当前系统为非抢占系统时，内核在如下两种情况下运行调度程序：

进程从运行状态切换到等待状态(等待某个事件)
进程被终结了

当前系统为抢占系统时，内核在如下情况下运行调度程序：

中断请求被服务例程响应完成时
进程从 运行状态 切换到 就绪状态


当前进程被抢占
进程时间片用完
某进程从 等待状态 切换到 就绪状态 (它的优先级更高，因此会发生抢占)



调度准则评定调度算法好坏的指标从运行效率来说：

CPU使用率：CPU处于忙状态的时间百分比
吞吐量：单位时间内完成的进程数量

从用户使用来说：

周转时间：进程从初始化到完成（包括等待）的时间
 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/09/01/os/lab5-%E7%94%A8%E6%88%B7%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/" title="os_lab5:用户进程管理">     <img class="post_bg" src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="os_lab5:用户进程管理"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/01/os/lab5-%E7%94%A8%E6%88%B7%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/" title="os_lab5:用户进程管理">os_lab5:用户进程管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-01T08:33:59.000Z" title="发表于 2021-09-01 16:33:59">2021-09-01</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-08T09:25:21.617Z" title="更新于 2021-09-08 17:25:21">2021-09-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%B8%85%E5%8D%8Eos%E5%AE%9E%E9%AA%8C/">清华os实验</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">
课程主页：https://www.xuetangx.com/course/THU08091000267/5883104?channel=i.area.learn_title实验指导书：https://objectkuan.gitbooks.io/ucore-docs/content/github：https://github.com/chyyuu/ucore_os_lab (master 分支)

前置知识进程、虚拟存储、中断机制、系统调用。
改动点相比于 lab4 源代码，lab5 主要做了如下改动：

memlayout.h 增加用户空间的图形表示和宏定义
宏定义 USERTOP/USERBASE 等指明用户虚拟地址空间范围，图形表示显示哪些用户空间属于合法空间。
12345678910111213141516171819202122232425262728293031323334353637383940/* * * Virtual memory map:                                          Permissions *         ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/08/31/os/lab4-%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E7%AE%A1%E7%90%86/" title="os_lab4:内核线程管理">     <img class="post_bg" src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="os_lab4:内核线程管理"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/08/31/os/lab4-%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E7%AE%A1%E7%90%86/" title="os_lab4:内核线程管理">os_lab4:内核线程管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-31T07:49:39.000Z" title="发表于 2021-08-31 15:49:39">2021-08-31</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-09T02:57:14.781Z" title="更新于 2021-09-09 10:57:14">2021-09-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%B8%85%E5%8D%8Eos%E5%AE%9E%E9%AA%8C/">清华os实验</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">
课程主页：https://www.xuetangx.com/course/THU08091000267/5883104?channel=i.area.learn_title实验指导书：https://objectkuan.gitbooks.io/ucore-docs/content/github：https://github.com/chyyuu/ucore_os_lab (master 分支)

前置知识线程、状态转换。
改动点相比于 lab3 源代码，lab4 主要是添加代码 process/* 以实现进程/线程管理功能。
练习一此练习用于认识进程/线程控制块 PCB。
在 ucore 中，struct proc_struct 用于描述进程/线程：
123456789101112131415161718192021222324252627282930313233343536struct proc_struct &#123;    enum proc_state state;                      // 进程状态(创建、就绪、运行、阻塞、终止)    int p ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/08/27/os/os%EF%BC%9A%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/" title="os：进程和线程（六）">     <img class="post_bg" src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="os：进程和线程（六）"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/08/27/os/os%EF%BC%9A%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/" title="os：进程和线程（六）">os：进程和线程（六）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-27T12:40:12.000Z" title="发表于 2021-08-27 20:40:12">2021-08-27</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-08-31T12:17:31.616Z" title="更新于 2021-08-31 20:17:31">2021-08-31</time></span></div><div class="content">进程进程的概念进程是一个具有一定独立功能的程序在一个数据集合上的一次动态执行的过程
这里特别注意程序和进程之间的关系：

程序=文件（静态的可执行文件）
进程=程序+执行过程
进程是程序的超集，还包括数据和进程控制块。

程序和进程之间的区别：

同一个程序的多次执行过程对应为不同进程
进程是动态的，程序是静态的
进程是暂时的，程序是永久的

进程的特征：

动态性：动态创建、结束
并发性：可以独立调度并占用处理器运行
独立性：不同的进程的工作互不影响
制约性：因访问共享数据、资源或进程间同步产生制约关系

共享和独立需要有一定限度，进程之间不仅需要去耦合，但不能忘记相互协作的初衷
执行进程需要内存和CPU共同工作：

内存负责保存代码和数据
CPU负责执行指令

进程控制块 (PCB Process Control Block)操作系统管理控制进程运行所用的信息集合 (操作系统用 PCB 来描述进程的基本情况以及运行变化的过程)

PCB 是进程存在的唯一标识（每个进程都在操作系统中有一个对应的 PCB）

进程控制块存些什么?

进程标识信息 (PID)
处理机现场保存 (调度之前 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/08/26/os/lab3-%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" title="os_lab3:虚拟内存管理">     <img class="post_bg" src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="os_lab3:虚拟内存管理"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/08/26/os/lab3-%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" title="os_lab3:虚拟内存管理">os_lab3:虚拟内存管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-26T02:41:06.000Z" title="发表于 2021-08-26 10:41:06">2021-08-26</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-08T09:24:35.896Z" title="更新于 2021-09-08 17:24:35">2021-09-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%B8%85%E5%8D%8Eos%E5%AE%9E%E9%AA%8C/">清华os实验</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">
课程主页：https://www.xuetangx.com/course/THU08091000267/5883104?channel=i.area.learn_title实验指导书：https://objectkuan.gitbooks.io/ucore-docs/content/github：https://github.com/chyyuu/ucore_os_lab (master 分支)

前置知识虚拟存储、页面置换算法、中断机制。
改动点相比于 lab2 源代码，lab3 主要是添加部分代码以实现虚拟存储功能，仅见的改动点在于页描述结构 page 和 alloc_pages 函数的具体实现，两者源码如下：
12345678910111213141516171819202122232425262728293031struct Page &#123;    int ref;                            uint32_t flags;                     unsigned int property;              list ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/08/24/os/os%EF%BC%9A%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/" title="os：页面置换算法（五）">     <img class="post_bg" src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="os：页面置换算法（五）"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/08/24/os/os%EF%BC%9A%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/" title="os：页面置换算法（五）">os：页面置换算法（五）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-24T14:01:52.000Z" title="发表于 2021-08-24 22:01:52">2021-08-24</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-08-27T12:41:07.845Z" title="更新于 2021-08-27 20:41:07">2021-08-27</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%B8%85%E5%8D%8Eos%E8%AF%BE%E7%A8%8B/">清华os课程</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">页面置换算法概念
本节强烈建议看视频：课程第九讲。其中给出了大量的动画示例，有助于理解。

处理缺页异常（需要调入新页面而内存已满）时，用于选择被置换的物理页面的算法。
设计目标：减少调入调出次数，寻找未来不再访问或短期内不访问的页面调出
在给出页面置换的结构之前，我们有一类特例，即不被替换的页面：页面锁定（frame locking）

操作系统的关键部分，描述必须常驻的逻辑页面，这部分页面对响应速度有要求
利用页表中的锁定标志位来实现

评价方法：页面轨迹统计，模拟页面置换行为，记录缺页次数
页面置换算法分类：

局部页面置换算法（选择范围仅限当前进程占用的物理页面）


最优算法：全知全能，量身定制
先进先出算法：先调入的页先调出
最近最久未使用算法：一个统计方法，实现较麻烦
时钟算法，最不常用算法


全局置换算法（选择防卫是所有可换出的物理页面）


工作集算法
缺页率算法



局部页面置换算法最优置换算法（OPT）置换在未来最长时间不访问的页面。
缺页时计算内存中每个逻辑页面的下一次访问时间。全知全能，缺页次数最少，是理想情况。

实际系统中无法实现
无法预制每个页面在下 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/08/24/os/os%EF%BC%9A%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E6%A6%82%E5%BF%B5/" title="os:虚拟存储概念（四）">     <img class="post_bg" src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="os:虚拟存储概念（四）"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/08/24/os/os%EF%BC%9A%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E6%A6%82%E5%BF%B5/" title="os:虚拟存储概念（四）">os:虚拟存储概念（四）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-24T06:41:22.000Z" title="发表于 2021-08-24 14:41:22">2021-08-24</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-08-24T07:03:22.363Z" title="更新于 2021-08-24 15:03:22">2021-08-24</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%B8%85%E5%8D%8Eos%E8%AF%BE%E7%A8%8B/">清华os课程</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">虚存的需求背景实际的存储受限于成本等原因，为了物尽其用，往往设计为层次结构，大容量存储往往性能较差，性能较好的存储往往设计的很小。
但借助软硬件的协同，将读写较快的内存作为读写较慢的磁盘的缓存来使用，如果处理得当，相当于提高了存储的综合性能。
覆盖技术和交换技术目前已经有一些解决内存不够的思路，比如之前提到的段式存储中的共用策略（覆盖），连续存储中的交换策略。
这一类时间换空间的方法，都是比较真诚的资本家想法，在于充分的增加内存的时间占用率，让每一块区域尽可能都不闲下来。
覆盖技术：

必要部分：常驻
可选部分：用到时装入
不会同时使用的几个模块：相互覆盖，共用存储

这样就减小了单个程序运行的内存开销，可以在较小的内存上运行较大的程序。
但这种方式，不能自动完成，需要程序员自行指定调用关系，机器才会进行覆盖。这增加了编程的难度。
交换技术着眼于不同进程的调度，区别相对繁忙和闲置的进程，并换入换出。通常我们使用电脑时看到的临时文件.swp就是被换到外存的部分（当然不一定是整个进程）。
交换技术的问题

交换时机：何时需要交换？只当内存空间不够或者有不够的可能时换出
交换区大小：存放用户 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/08/23/os/lab2-%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" title="os_lab2:物理内存管理">     <img class="post_bg" src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="os_lab2:物理内存管理"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/08/23/os/lab2-%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" title="os_lab2:物理内存管理">os_lab2:物理内存管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-23T13:46:37.000Z" title="发表于 2021-08-23 21:46:37">2021-08-23</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-08T09:25:01.773Z" title="更新于 2021-09-08 17:25:01">2021-09-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%B8%85%E5%8D%8Eos%E5%AE%9E%E9%AA%8C/">清华os实验</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">
课程主页：https://www.xuetangx.com/course/THU08091000267/5883104?channel=i.area.learn_title实验指导书：https://objectkuan.gitbooks.io/ucore-docs/content/github：https://github.com/chyyuu/ucore_os_lab (master 分支)

前置知识分段机制、分页机制、物理内存管理机制、伙伴系统、slub 分配算法。
改动点相比于 lab1 源代码，lab2 主要做了如下改动：

bootasm.S 增加内存探测功能
借助于 BIOS 提供的 int 0x15 中断功能，探测当前机器的内存布局，并将其结果放置于 0x8000 处。
该结果以 地址范围描述符 结构体形式进行存放：
12345678struct e820map &#123;    int nr_map;	struct &#123;		long long addr; // 基址		long long size; // 大小		long type; // 类型	&#1 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/08/20/os/os%EF%BC%9A%E9%9D%9E%E8%BF%9E%E7%BB%AD%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/" title="os：非连续内存分配（三）">     <img class="post_bg" src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="os：非连续内存分配（三）"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/08/20/os/os%EF%BC%9A%E9%9D%9E%E8%BF%9E%E7%BB%AD%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/" title="os：非连续内存分配（三）">os：非连续内存分配（三）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-20T13:21:23.000Z" title="发表于 2021-08-20 21:21:23">2021-08-20</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-08-24T04:03:09.522Z" title="更新于 2021-08-24 12:03:09">2021-08-24</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%B8%85%E5%8D%8Eos%E8%AF%BE%E7%A8%8B/">清华os课程</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">非连续内存分配的背景与需求之前已经讲到操作系统的连续内存分配，但比如在WFA（worst-fit allocation，先拆最大块方法）中，随着分配的进行，较大的内存申请很可能将不再能一次满足。所以我们思考有没有一种方法将较为离散的内存块组织起来，组织成逻辑上的相对大块的内存。借用段式存储管理中的这张图，我们将这个过程示意如下：


另外，连续内存的申请和释放都伴随着一些麻烦，同时还不免地产生内外碎片。
非连续分配的提出就是为了提高内存的利用率和管理的灵活性。

允许程序使用非连续的物理地址空间
允许共享代码和数据
支持动态加载和动态链接

非连续分配的实现过程中需要解决的问题： 实现虚拟地址和物理地址的转换

软件实现：利用类似外排序的思路，灵活地组织处在不同区域的内存，但是开销大；
硬件实现：每执行一条指令都需要做转换，那么直接使用硬件做映射是比较好的。

非连续分配硬件辅助机制：如何选择非连续分配中的内存分块大小（拆多大？如何组织？）

段式存储管理（segmentation）
页式存储管理（paging）


访问不在当前段的地址的错误就叫段错误（segmentation fa ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/4/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/niu.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">icbtbo</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">106</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">88</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">32</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/icbtbo"><i class="fab fa-github"></i><span>Github</span></a></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/06/22/Netty/Netty%E7%9A%84%E5%BB%B6%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%A4%84%E7%90%86%E7%A5%9E%E5%99%A8%EF%BC%9A%E6%97%B6%E9%97%B4%E8%BD%AEHashedWheelTimer/" title="Netty的延时任务处理神器：时间轮HashedWheelTimer"><img src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Netty的延时任务处理神器：时间轮HashedWheelTimer"/></a><div class="content"><a class="title" href="/2022/06/22/Netty/Netty%E7%9A%84%E5%BB%B6%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%A4%84%E7%90%86%E7%A5%9E%E5%99%A8%EF%BC%9A%E6%97%B6%E9%97%B4%E8%BD%AEHashedWheelTimer/" title="Netty的延时任务处理神器：时间轮HashedWheelTimer">Netty的延时任务处理神器：时间轮HashedWheelTimer</a><time datetime="2022-06-22T11:46:30.000Z" title="发表于 2022-06-22 19:46:30">2022-06-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/15/Netty/Netty%E7%9A%84FastThreadLocal/" title="Netty的FastThreadLocal"><img src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Netty的FastThreadLocal"/></a><div class="content"><a class="title" href="/2022/06/15/Netty/Netty%E7%9A%84FastThreadLocal/" title="Netty的FastThreadLocal">Netty的FastThreadLocal</a><time datetime="2022-06-15T07:04:51.000Z" title="发表于 2022-06-15 15:04:51">2022-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/13/Netty/Netty%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%B1%A0%E6%8A%80%E6%9C%AF%EF%BC%9ARecycler/" title="Netty的对象池技术：Recycler"><img src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Netty的对象池技术：Recycler"/></a><div class="content"><a class="title" href="/2022/06/13/Netty/Netty%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%B1%A0%E6%8A%80%E6%9C%AF%EF%BC%9ARecycler/" title="Netty的对象池技术：Recycler">Netty的对象池技术：Recycler</a><time datetime="2022-06-13T13:08:25.000Z" title="发表于 2022-06-13 21:08:25">2022-06-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/05/Redis/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0-%E7%8B%AC%E7%AB%8B%E5%8A%9F%E8%83%BD%E7%9A%84%E5%AE%9E%E7%8E%B0/" title="Redis设计与实现:独立功能的实现"><img src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis设计与实现:独立功能的实现"/></a><div class="content"><a class="title" href="/2022/01/05/Redis/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0-%E7%8B%AC%E7%AB%8B%E5%8A%9F%E8%83%BD%E7%9A%84%E5%AE%9E%E7%8E%B0/" title="Redis设计与实现:独立功能的实现">Redis设计与实现:独立功能的实现</a><time datetime="2022-01-05T12:59:07.000Z" title="发表于 2022-01-05 20:59:07">2022-01-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/05/Redis/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0-%E5%A4%9A%E6%9C%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%9E%E7%8E%B0/" title="Redis设计与实现:多机数据库的实现"><img src="/img/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis设计与实现:多机数据库的实现"/></a><div class="content"><a class="title" href="/2022/01/05/Redis/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0-%E5%A4%9A%E6%9C%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%9E%E7%8E%B0/" title="Redis设计与实现:多机数据库的实现">Redis设计与实现:多机数据库的实现</a><time datetime="2022-01-05T01:35:35.000Z" title="发表于 2022-01-05 09:35:35">2022-01-05</time></div></div></div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/MySQL%E9%AB%98%E7%BA%A7/"><span class="card-category-list-name">MySQL高级</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Netty%E5%AD%A6%E4%B9%A0/"><span class="card-category-list-name">Netty学习</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/gulimall%E9%A1%B9%E7%9B%AE/"><span class="card-category-list-name">gulimall项目</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/java/"><span class="card-category-list-name">java</span><span class="card-category-list-count">5</span></a></li><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/java/java%E5%B9%B6%E5%8F%91/"><span class="card-category-list-name">java并发</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/java/springboot/"><span class="card-category-list-name">springboot</span><span class="card-category-list-count">1</span></a></li></ul><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/leetcode%E5%88%B7%E9%A2%98/"><span class="card-category-list-name">leetcode刷题</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/spirngboot/"><span class="card-category-list-name">spirngboot</span><span class="card-category-list-count">1</span></a></li>
            <li class="card-category-list-item more is-center"><a class="card-category-list-link-more" href="/categories/">
                <span>查看更多</span><i class="fas fa-angle-right"></i></a></li>
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Elasticsearch/" style="font-size: 1.17em; color: #999c9f">Elasticsearch</a> <a href="/tags/FastThreadLocal/" style="font-size: 1.1em; color: #999">FastThreadLocal</a> <a href="/tags/Gateway/" style="font-size: 1.1em; color: #999">Gateway</a> <a href="/tags/HTTP/" style="font-size: 1.17em; color: #999c9f">HTTP</a> <a href="/tags/JMH/" style="font-size: 1.1em; color: #999">JMH</a> <a href="/tags/JSR303/" style="font-size: 1.1em; color: #999">JSR303</a> <a href="/tags/Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/" style="font-size: 1.1em; color: #999">Java内存模型</a> <a href="/tags/Java%E7%BA%BF%E7%A8%8B/" style="font-size: 1.1em; color: #999">Java线程</a> <a href="/tags/Maven/" style="font-size: 1.17em; color: #999c9f">Maven</a> <a href="/tags/MySQL/" style="font-size: 1.37em; color: #99a4b2">MySQL</a> <a href="/tags/Netty/" style="font-size: 1.23em; color: #999ea6">Netty</a> <a href="/tags/Springboot/" style="font-size: 1.1em; color: #999">Springboot</a> <a href="/tags/TCP-IP/" style="font-size: 1.17em; color: #999c9f">TCP/IP</a> <a href="/tags/aop/" style="font-size: 1.1em; color: #999">aop</a> <a href="/tags/csapp/" style="font-size: 1.1em; color: #999">csapp</a> <a href="/tags/gulimall%E9%A1%B9%E7%9B%AE/" style="font-size: 1.17em; color: #999c9f">gulimall项目</a> <a href="/tags/java/" style="font-size: 1.5em; color: #99a9bf">java</a> <a href="/tags/java-api/" style="font-size: 1.1em; color: #999">java-api</a> <a href="/tags/jvm/" style="font-size: 1.43em; color: #99a6b9">jvm</a> <a href="/tags/kafka/" style="font-size: 1.37em; color: #99a4b2">kafka</a> <a href="/tags/leetcode/" style="font-size: 1.17em; color: #999c9f">leetcode</a> <a href="/tags/mybatis-plus/" style="font-size: 1.17em; color: #999c9f">mybatis-plus</a> <a href="/tags/nacos/" style="font-size: 1.1em; color: #999">nacos</a> <a href="/tags/oss/" style="font-size: 1.1em; color: #999">oss</a> <a href="/tags/redis/" style="font-size: 1.3em; color: #99a1ac">redis</a> <a href="/tags/redisson/" style="font-size: 1.1em; color: #999">redisson</a> <a href="/tags/schedule/" style="font-size: 1.1em; color: #999">schedule</a> <a href="/tags/servlet/" style="font-size: 1.1em; color: #999">servlet</a> <a href="/tags/session/" style="font-size: 1.1em; color: #999">session</a> <a href="/tags/spring/" style="font-size: 1.17em; color: #999c9f">spring</a> <a href="/tags/springboot/" style="font-size: 1.23em; color: #999ea6">springboot</a> <a href="/tags/springcloud-alibaba/" style="font-size: 1.17em; color: #999c9f">springcloud-alibaba</a> <a href="/tags/springweb/" style="font-size: 1.1em; color: #999">springweb</a> <a href="/tags/synchronized/" style="font-size: 1.1em; color: #999">synchronized</a> <a href="/tags/vim/" style="font-size: 1.1em; color: #999">vim</a> <a href="/tags/%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/" style="font-size: 1.1em; color: #999">主从复制</a> <a href="/tags/%E4%BA%8B%E5%8A%A1/" style="font-size: 1.1em; color: #999">事务</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size: 1.1em; color: #999">二叉树</a> <a href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 1.1em; color: #999">优化</a> <a href="/tags/%E4%BF%A1%E5%8F%B7/" style="font-size: 1.1em; color: #999">信号</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">十二月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/09/"><span class="card-archive-list-date">九月 2021</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/08/"><span class="card-archive-list-date">八月 2021</span><span class="card-archive-list-count">17</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/06/"><span class="card-archive-list-date">六月 2021</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives/">
              <span>查看更多</span><i class="fas fa-angle-right"  ></i></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">106</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-06-30T06:15:54.273Z"></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By icbtbo</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "求知若饥&#44;虚心若愚,Stay hungry&#44;Stay foolish".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '求知若饥&#44;虚心若愚'
  }
}

if (true) {
  if (typeof Typed === 'function') subtitleType()
  else $.getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js', subtitleType)
} else {
  subtitleType()
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script></div></body></html>